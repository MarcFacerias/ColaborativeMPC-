<?xml version="1.0" encoding="UTF-8"?>
<launch>

  <arg name = "name_robot" value = "$(eval 'agent' + str(arg('agents')))"/>
  <arg name="agents" default="0"/>
  <group ns="$(arg name_robot)">

    <node pkg="colab_mpc" type="vehicleSimulator.py" name="simulator" output="screen" args="$(arg name_robot)">
        <param name="agents"      value="$(eval arg('agents'))"/>
    </node>
    
    <!-- CONTROL -->
    <node pkg="colab_mpc" type="controllerMain.py" name="control" output="screen" />
  </group>

  <include file="$(find colab_mpc)/launch/control_spawner.launch" if="$(eval arg('agents') - 1 > 0)">
    <arg name="agents" value="$(eval arg('agents') - 1)"/>
  </include>
</launch>
