<?xml version="1.0" encoding="UTF-8"?>
<launch>
  <arg name="robots" default="1"/>
  <arg name = "name_robot" value = "$(eval 'car' + str(arg('robots')))"/>

  <arg name="output" default="log"  unless="$(eval robots ==  log_agent)"/>
  <arg name="output" value="screen" if="$(eval robots ==  log_agent)"/>

  <arg name = "log_agent" default = "-1"/>

  <node name="$(eval str(arg('name_robot')))" output="$(arg output)" pkg="planner_experiments" type="LPV_ROS_main.py" args="$(eval str(arg('robots')))"/>

  <include file="$(find planner_experiments)/launch/LPV_car_spawner.launch" if="$(eval arg('robots')  > 0)">
    <arg name="robots" value="$(eval arg('robots') - 1)"/>
    <arg name = "log_agent" value = "$(arg log_agent)"/>
  </include>
</launch>